var wpDataTablesHighchart=function(){var t={container:"#wdtHighChartContainer",columnIndexes:[],numberFormat:1,connectedWPDataTable:null,renderCallback:null,chart:null,setContainer:function(t){this.container=t,this.options.chart.renderTo=t.replace("#","")},pieChartTypes:["highcharts_pie_chart","highcharts_pie_with_gradient_chart","highcharts_3d_pie_chart","highcharts_donut_chart","highcharts_3d_donut_chart"],getContainer:function(){return this.container},setWidth:function(t){isNaN(t)||null==t||0==t?delete this.options.chart.width:this.options.chart.width=parseInt(t)},getWidth:function(){return this.options.chart.width},setHeight:function(t){this.options.chart.height=parseInt(t)},getHeight:function(){return this.options.chart.height},setRenderCallback:function(t){this.renderCallback=t},options:{chart:{backgroundColor:"#FFFFFF",borderColor:"#4572A7",borderRadius:0,borderWidth:0,height:400,inverted:!1,panning:!1,panKey:"shift",plotBackgroundColor:"undefined",plotBackgroundImage:"undefined",plotBorderColor:"#C0C0C0",plotBorderWidth:0,type:"line",zoomType:"undefined"},credits:{enabled:!0},exporting:{buttons:{contextButton:{align:"right",symbolStroke:"#666",text:null}},enabled:!0,chartOptions:{plotOptions:{series:{dataLabels:{enabled:!1}}}},filename:"Chart",width:"undefined"},legend:{backgroundColor:"#FFFFFF",title:{text:""},layout:"horizontal",align:"right",verticalAlign:"bottom",borderWidth:0,borderColor:"#909090"},plotOptions:{},series:[],subtitle:{align:"center",floating:!1,text:"undefined"},title:{align:"center",floating:!1,text:""},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.85)",borderColor:null,borderRadius:3,borderWidth:1,enabled:!0,shared:!1,valuePrefix:"undefined",valueSuffix:"undefined"},xAxis:{crosshair:!1},yAxis:{crosshair:!1,gridLineDashStyle:"Solid",title:{align:"align",text:""},plotLines:[{value:0,width:1,color:"#808080"}]}},setOptions:function(t){for(var e in t)this.options[e]=t[e]},getOptions:function(){return this.options},render:function(){null!==this.renderCallback&&this.renderCallback(this),this.chart=new Highcharts.Chart(this.options)},setType:function(t){switch(t){case"highcharts_basic_area_chart":this.options.chart.type="area";break;case"highcharts_stacked_area_chart":this.options.chart.type="area",this.options.plotOptions={area:{stacking:"normal"}};break;case"highcharts_basic_bar_chart":this.options.chart.type="bar";break;case"highcharts_scatter_plot":this.options.chart.type="scatter";break;case"highcharts_stacked_bar_chart":this.options.chart.type="bar",this.options.plotOptions={series:{stacking:"normal"}};break;case"highcharts_basic_column_chart":this.options.chart.type="column";break;case"highcharts_3d_column_chart":this.options.chart.type="column",this.options.chart.margin=75,this.options.chart.options3d={enabled:!0,alpha:15,beta:15,viewDistance:25,depth:40},this.options.plotOptions={column:{depth:25}};break;case"highcharts_stacked_column_chart":this.options.chart.type="column",this.options.plotOptions={column:{stacking:"normal"}};break;case"highcharts_pie_chart":this.options.chart.type="pie",this.options.plotOptions={pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}}}},this.options.tooltip={pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"};break;case"highcharts_3d_pie_chart":this.options.chart.type="pie",this.options.plotOptions={pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}},depth:35}},this.options.tooltip={pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},this.options.chart.options3d={enabled:!0,alpha:15,beta:15,viewDistance:25,depth:40};break;case"highcharts_pie_with_gradient_chart":this.options.chart.type="pie",Highcharts.getOptions().colors=Highcharts.map(Highcharts.getOptions().colors,function(t){return{radialGradient:{cx:.5,cy:.3,r:.7},stops:[[0,t],[1,Highcharts.Color(t).brighten(-.3).get("rgb")]]}}),this.options.plotOptions={pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}}}},this.options.tooltip={pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"};break;case"highcharts_donut_chart":this.options.chart.type="pie",this.options.plotOptions={pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}}}},this.options.series[0].innerSize="80%",this.options.tooltip={pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"};break;case"highcharts_3d_donut_chart":this.options.chart.type="pie",this.options.chart.options3d={enabled:!0,alpha:15,beta:15,viewDistance:25,depth:40},this.options.plotOptions={pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}},depth:35}},this.options.series[0].innerSize="80%",this.options.tooltip={pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"};break;case"highcharts_gauge_chart":this.options.chart.type="gauge";break;case"highcharts_solid_gauge_chart":this.options.chart.type="gauge";break;case"highcharts_line_chart":default:this.options.chart.type="line"}},refresh:function(){this.chart.redraw()},setColumnIndexes:function(t){this.columnIndexes=t},getColumnIndexes:function(){return this.columnIndexes},setConnectedWPDataTable:function(t){this.connectedWPDataTable=t},getConnectedWPDataTable:function(){return this.connectedWPDataTable},setGrouping:function(t){this.group_chart=t},getGrouping:function(){return this.group_chart},enableFollowFiltering:function(){null!=this.connectedWPDataTable&&(this.options.plotOptions.series={animation:!1},this.numberFormat=jQuery.parseJSON(jQuery("#"+this.connectedWPDataTable.data("described-by")).val()).number_format,this.connectedWPDataTable.fnSettings().aoDrawCallback.push({sName:"chart_filter_follow",fn:function(e){t.options.xAxis.categories=[];var a=0,o=t.connectedWPDataTable._("tr",{filter:"applied"}).toArray();for(var i in t.columnIndexes){var n=[];if(t.columnIndexes.length>0&&0==i)for(var r in o)t.options.xAxis.categories.push(o[r][t.columnIndexes[i]]);else{for(var r in o){var s=o[r][t.columnIndexes[i]];-1!==t.pieChartTypes.indexOf(t.type)?1==t.numberFormat?n.push(parseFloat(wdtUnformatNumber(s,".",",",!0))):n.push(parseFloat(wdtUnformatNumber(s,",",".",!0))):1==t.numberFormat?n.push({name:t.options.xAxis.categories[r],y:parseFloat(wdtUnformatNumber(s,".",",",!0))}):n.push({name:t.options.xAxis.categories[r],y:parseFloat(wdtUnformatNumber(s,",",".",!0))})}if(1==t.group_chart){var h=[];for(var r in n)if("undefined"!=typeof h&&h.length>0){var c="none";for(var i in h)"none"===c&&h[i].name==n[r].name&&(c=i);if("none"===c)h.push(n[r]);else for(var p in n[r])"name"!=p&&(h[c][p]+=n[r][p])}else h.push(n[r]);n=h}t.options.series[a].data=n,a++}}null!==t.chart&&t.chart.destroy(),null!==t.renderCallback&&t.renderCallback(t),t.chart=new Highcharts.Chart(t.options)}}))}};return t};